<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlindTaste - Commande</title>
    <link rel="stylesheet" href="../CSS/orderPage.css"> 
    <script>
        // Charger les donn√©es depuis le localStorage au d√©marrage
        function loadCartData() {
            const storedQuantity = localStorage.getItem('quantity');
            const storedTotalPrice = localStorage.getItem('totalPrice');

            if (storedQuantity && storedTotalPrice) {
                document.getElementById('quantity-display').textContent = storedQuantity;
                document.getElementById('totalPrice').textContent = `${storedTotalPrice} ‚Ç¨`;
                document.getElementById('hiddenQuantity').value = storedQuantity;
                document.getElementById('hiddenTotalPrice').value = storedTotalPrice;
                console.log(`Donn√©es r√©cup√©r√©es depuis le Local Storage : Quantit√© = ${storedQuantity}, Prix = ${storedTotalPrice}`);
            } else {
                console.log('Aucune donn√©e trouv√©e dans le Local Storage, affichage des valeurs par d√©faut.');
                document.getElementById('quantity-display').textContent = '1';
                document.getElementById('totalPrice').textContent = '15 ‚Ç¨';
            }
        }
        document.addEventListener('DOMContentLoaded', loadCartData);
    </script>
</head>
<body>
    <header>
        <nav>
            <ul class="nav-bar">
                <li><a href="home.html"><img id="mainLogo" src="../ressources/mainLogo.png" alt="To HomePage"></a></li>
                <li><a href="#About">A propos</a></li>
                <li><a href="#Rules">R√®gles du Jeu</a></li>
                <li class="btn-container">
                    <a href="product.html"> <button class="btn-commande">COMMANDER MAINTENANT üçâ</button></a>
                </li>
            </ul>
        </nav>
    </header>

    <div class="form-wrapper">
        <div class="form-container">
            <form action="/BLINDTASTE/php/Commande.php" method="POST">
                <div class="header-container">
                    <h1>COMMANDE</h1>
                    <img src="../ressources/fraise.png" alt="fraise" class="header-image">
                </div>

                <!-- Affichage de la quantit√© et du prix r√©cup√©r√©s -->
                <div class="form-field">
                    <strong>Quantit√© s√©lectionn√©e : <span id="quantity-display">1</span></strong>
                    <input type="hidden" id="hiddenQuantity" name="quantity">
                </div>

                <div class="form-field">
                    <strong>Total : <span id="totalPrice">15</span> ‚Ç¨</strong>
                    <input type="hidden" id="hiddenTotalPrice" name="totalPrice">
                </div>

                <!-- Formulaire de commande -->
                <div class="form-row">
                    <div class="form-field">
                        <label for="name">NOM :</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-field">
                        <label for="first_Name">PR√âNOM :</label>
                        <input type="text" id="first_Name" name="first_Name" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-field">
                        <label for="mail">ADRESSE MAIL :</label>
                        <input type="email" id="mail" name="mail" required>
                    </div>
                    <div class="form-field">
                        <label for="phone_Number">NUM√âRO DE T√âL√âPHONE :</label>
                        <input type="tel" id="phone_Number" name="phone_Number" required>
                    </div>
                </div>

                <div class="form-field">
                    <label for="delivery_Address">ADRESSE DE LIVRAISON/FACTURATION :</label>
                    <input type="text" id="delivery_Address" name="delivery_Address" required>
                </div>

                <div class="form-field">
                    <label for="card_Number">NUM√âRO DE CARTE :</label>
                    <input type="text" id="card_Number" name="card_Number" pattern="\d{16}" required>
                </div>

                <div class="form-row">
                    <div class="form-field">
                        <label for="card_Holder_Name">NOM SUR LA CARTE :</label>
                        <input type="text" id="card_Holder_Name" name="card_Holder_Name" required>
                    </div>
                    <div class="form-field">
                        <label for="card_Expiration_Date">DATE EXPIRATION (MM/AA) :</label>
                        <input type="month" id="card_Expiration_Date" name="card_Expiration_Date" required>
                    </div>
                    <div class="form-field">
                        <label for="card_Brand">CCV :</label>
                        <input type="text" id="card_Brand" name="card_Brand" pattern="\d{3}" required>
                    </div>
                </div>

                <div class="form-checkbox">
                    <input type="checkbox" id="terms" name="terms" required>
                    <label for="terms">J'ai lu et j'accepte les conditions de vente</label>
                </div>

                <button type="submit" class="submit-btn">VALIDER MA COMMANDE</button>
            </form>
        </div>
    </div>

    <script src="../js/orderPage.js"></script>
</body>
</html>